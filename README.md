# IoTupã

<h2>Resumo</h2>
<p>A diferença meteorológica entre centros urbanos e regiões periféricas é algo recorrente. Em particular, esta situação acontece, por exemplo, ao comparar o campus samambaia e outras regiões da cidade, quando uma pode estar ensolarada e a outra com chuva.  O objetivo principal deste trabalho foi a elaboração de uma estação meteorológica constituída de materiais de baixo custo que fornecesse as aferições de seus sensores em tempo real em uma plataforma web de acesso livre, de maneira que pudesse informar aos usuários como está o tempo no campus Samambaia da Universidade Federal de Goiás no momento do acesso. O intuito deste trabalho foi criar uma solução no contexto de cidades inteligentes e internet das coisas. O projeto foi desenvolvido com base na plataforma Arduino acoplando a ela sensores que medem variáveis meteorológicas, com termômetro, higrômetro e sensor de chuva.  A estação possui conexão à internet e a um banco de dados onde os registros são armazenados. Como resultado, tem-se a elaboração e entrega de um protótipo componente de software inovador baseado em aplicação IoT para percepção em tempo real de condições meteorológicas no ambiente onde está instalado.</p>

<h2>1. Introdução</h2>
<p>O campus universitário Samambaia da Universidade Federal de Goiás (UFG) localiza-se, em linha reta, a uma distância de aproximadamente nove quilômetros e meio do centro da cidade de Goiânia e a cerca de 30 quilômetros da cidade de Aparecida de Goiânia e Trindade. As distâncias entre o campus e essas regiões urbanas, somadas à diferente densidade demográfica e área de vegetação resultam em condições meteorológicas frequentemente divergentes entre a universidade e seu entorno e as demais localidades citadas anteriormente.
	O acompanhamento das condições meteorológicas de um determinado local em tempo real é uma informação que pode ser de interesse das pessoas, seja para a tomada de decisões a situações mais complexas como a execução de uma atividade de campo ou para situações mais simples como escolher a vestimenta adequada para deslocar-se para a universidade, que apesar de o campus dispor de uma estação meteorológica na Escola de Agronomia, os dados não são entregues em tempo real, não podendo ser utilizados pela comunidade universitária, o que justifica a pesquisa proposta.
	Neste sentido, a tecnologia denominada internet das coisas (internet of things, IoT) é uma possível solução para disponibilizar informações das variáveis climáticas em tempo real em uma plataforma web de livre acesso. Com a utilização de um  software embarcado em uma placa microcontroladora que tenha acesso à internet é possível acoplar sensores de umidade, temperatura e chuva que permitam a  coleta de dados meteorológicos e a sua disponibilização em tempo real.
	Diante disso, a contribuição deste projeto é desenvolver uma solução tecnológica com base em sensores e internet das coisas para disponibilizar um serviço gratuito e em tempo real das condições meteorológicas na UFG /Samambaia e disponibilizá-los para a conveniência da comunidade universitária.
	Este trabalho está organizado da seguinte forma: a Seção 2 trata do referencial teórico do trabalho; a Seção 3 trata da metodologia de pesquisa utilizada ; a Seção 4 trata do desenvolvimento do projeto ; a Seção 5 trata da avaliação do projeto; a Seção 6 trata da discussão ; a Seção 7 trata das considerações finais.
</p>

<h2>2. Referencial Teórico</h2>
<h2>2.1 Estações Meteorológicas</h2>
<p>O termo meteorologia vem da palavra grega meteoros, que significa "alto no ar" [1]. Meteorologia de modo genérico é a ciência que estuda a atmosfera terrestre se baseando em fenômenos naturais para a previsão do tempo e para estabelecer características climatológicas de uma região. É uma ciência ambiental indispensável para várias áreas da sociedade desde a agricultura até os transportes aéreos. Uma estação meteorológica utiliza de diversos instrumentos para realizar a medição das variáveis climáticas para que assim possa através desses dados obter informações das condições atmosféricas. 
</p>

<h2>2.2 Internet Of Things (IOT)</h2>
<p>A Internet das Coisas (IoT) é um paradigma de comunicação recente no qual os objetos da vida cotidiana serão equipados com microcontroladores,  transceptores para comunicação digital e pilhas de protocolo adequadas que os tornarão capazes de comunicarem entre si e com os usuários, tornando-se parte integrante da Internet [2].
	Placas wemos D1 são exemplos de dispositivos IoT capaz de se comunicar com a rede encaminhando pacotes de dados de forma periódica.
</p> 

<h2>2.3 Big Data</h2>
<p>Big data é um termo para conjuntos de dados massivos que possuem uma estrutura grande, mais variada e complexa com as dificuldades de armazenamento, análise e visualização para processos ou resultados futuros [3].
	O crescimento dos dados produzidos via IoT tem desempenhado um papel importante no cenário de big data. Big data pode ser categorizado de acordo com três aspectos: (a) volume,(b) variedade e (c) velocidade [4]. A leitura de sensores em um ambiente fornece um imenso volume de dados variados em uma determinada velocidade, dados esses que podem ser analisados para que se possam extrair informações interessantes e sirvam como ferramenta de estudo e até mesmo como um importante meio para a tomada de decisões.
</p> 

<h2>2.4 Plataforma Arduino</h2>
<p>Arduino é uma plataforma eletrônica de código aberto baseada em hardware e software fáceis de usar. As placas Arduino são capazes de ler entradas - luz em um sensor, um dedo em um botão ou uma mensagem do Twitter - e transformá-la em uma saída - ativando um motor, ligando um LED, publicando algo online. Um conjunto de instruções pode ser inserido no microcontrolador na placa para guiar as ações desempenhadas por ela. Para fazer isso, utiliza-se a linguagem de programação Arduino (baseada em Wiring) e o Software Arduino (IDE), baseado em Processing. [5]
	As placas Arduino ou baseadas na plataforma Arduino, como é o caso da Wemos D1 que foi utilizada neste projeto, são o principal componente do circuito sendo responsável por armazenar o algoritmo, processar dados, acionar eventuais atuadores, receber medições de sensores, estabelecer a conexão com a internet, estabelecer conexão com o banco de dados e acoplar demais instrumentos que possam ser úteis à execução do projeto como o caso de shields que são capazes de aumentar as funcionalidades da placa. 
</p>

<h2>2.5 System on Chip (SoC)</h2>
<p>Um System on Chip (SoC) se refere a um sistema integrado único circuito (chip) composto por todos os componentes de um sistema eletrônico. Um SoC é heterogêneo. Além dos componentes digitais clássicos: processador, memória, barramento, etc,  ele pode conter componentes analógicos e de rádio. O mercado de SoC tem sido impulsionado pela computação embarcada, tais como telefones celulares e dispositivos portáteis [6]. 
</p>

<h2>2.6 Trabalhos correlatos</h2>
<p>Existem vários trabalhos na linha de monitoramento climático com estações meteorológicas de baixo custo, quase todos utilizam do Arduino Uno como microcontrolador do projeto. Nesta seção vamos discorrer sobre os principais trabalhos correlatos encontrados.
	No trabalho “Aquisição de dados meteorológicos através da plataforma Arduino: construção de baixo custo e análise de dados” os autores têm como foco demonstrar a implementação e o funcionamento de uma estação meteorológica automática de baixo custo utilizando o Arduino Uno, e a partir desta estação apresentar dados comparativos em relação às estações convencionais utilizadas pelo INMET, o objetivo está direcionado em validar a acurácia da aferição dos dados através do protótipo de baixo custo, não se preocupando em disponibilizar essas leituras em uma plataforma para que possa ser acessada em tempo real e nem em armazenar os registros em um banco de dados, se diferindo do trabalho apresentado aqui. [7]. 
	No trabalho “ESTAÇÃO METEOROLÓGICA EXPERIMENTAL DE BAIXO CUSTO” os autores têm como objetivo apresentar a montagem e a calibração de uma estação meteorológica experimental a partir da utilização de materiais de baixo custo. Com a estação montada e em funcionamento. eles utilizaram dos dados aferidos para comparar com os medidos pela estação da Infraero em um dado  intervalo de tempo para verificar a confiabilidade dos dados, margem de erro e aferir o custo benefício do projeto [8]. Trabalho bem similar ao apresentado no parágrafo anterior, mas que não possui armazenamento desses dados e que também não possui uma plataforma aberta para usuários acessarem e verificarem a condição meteorológica em tempo real como o trabalho elaborado no projeto deste relatório.
	No trabalho “ARDWEATHER: UMA ESTAÇÃO METEOROLÓGICA BASEADA NO ARDUINO E EM WEB SERVICES RESTFUL” os autores apresentam um sistema denominado ArdWeather que é composto por uma estação meteorológica de baixo custo feita com Arduino Uno e uma aplicação web que é utilizada para exibir os dados aferidos pela estação desenvolvida e eventuais outras estações que possam ser acopladas ao sistema [9]. Este trabalho é o que mais se assemelha ao que foi desenvolvido e apresentado neste relatório. Entretanto, diferente do aqui relatado, a plataforma web é uma ferramenta utilizada para fornecer relatórios em que o usuário estabelece o intervalo de tempo que deseja analisar, não apresentando, portanto, os dados em tempo real o que só ocorre em caso de alertas de chuvas fortes via postagem na rede social Twitter.
	No trabalho “ESTAÇÃO METEOROLÓGICA AUTOMÁTICA DE BAIXO CUSTO” os autores também possuem como objetivo desenvolver uma estação meteorológica automática de baixo custo, implementando junto ao projeto um banco de dados para que através dos dados recolhidos por sensores espalhados por uma área, estes sejam armazenados e comparados com as medições das principais estações meteorológicas comerciais disponíveis no mercado [10]. A preocupação principal dos autores é verificar a margem de erro entre os valores colhidos em uma estação de baixo custo e estações convencionais, disponibilizando uma plataforma web para que pessoas possam acessar relatórios da estação de baixo custo em um certo período, sem se preocupar com a disponibilização em tempo real como no caso deste projeto.
	Os autores deste artigo propõem um sistema de monitoramento de clima de baixo custo que recupera a condição climática de qualquer local, a partir do gerenciamento de banco de dados em nuvem e este sistema  mostra a saída em um display OLED [11]. Esse projeto utiliza da placa Wemos D1 que tem como microcontrolador o ESP8266 e é programado na plataforma Arduino. O objetivo principal é visualizar as condições meteorológicas de qualquer local permitindo acessar os dados atuais de qualquer estação através de um display led acoplado a placa. Diferente do projeto aqui desenvolvido para este relatório, no trabalho do autor Kodali não existe uma preocupação em colher os dados através da própria placa acoplando sensores, mas apenas em reproduzir dados colhidos em nuvem para uma tela display apresentando as condições em tempo real de determinada estação, sem também se preocupar na criação de um banco de dados para o armazenamento ou a criação de uma plataforma web para acesso remoto de qualquer dispositivo a essas informações. 
</p> 

<h2>3.Metodologia</h2>
<p>Design Science Research (DSR) tem se destacado como um dos métodos de pesquisa adotados para solução de problemas por meio da elaboração e avaliação de  artefatos [12]. Sob tal prisma, DSR configura-se como uma metodologia útil e complementar aos métodos empíricos clássicos utilizados para validar hipóteses levantadas sobre um fenômeno observado [13]. DSR apoia-se na premissa de que, para criar soluções inovadoras, é necessário avançar o estado da arte. Logo, a aplicação sistemática de DSR para solução de um problema produz avanço no estado da arte como efeito colateral da criação de artefatos inovadores. 
Pela sua natureza aplicada, DSR tem sido utilizada com sucesso em pesquisas de Sistemas de Informação e Engenharia de Software. Dado o caráter exploratório e descritivo desta pesquisa e o objetivo primário descrito (desenvolver um modelo tecnológico e implementação de monitoramento e entrega em tempo real de condições meteorológicas do campus em tempo real com base em tecnologias IoT), optou-se por utilizar DSR para a condução desta pesquisa. 
DSR tem como objetivo elaborar artefactos para solucionar necessidades identificadas em domínios de aplicação específicos e, para isso, é empregado o conhecimento científico. Diversos fatores, metodológicos e científicos impactam na forma como a pesquisa será conduzida; por exemplo, quando definir as variáveis de avaliação do artefato, como garantir o rigor da pesquisa, ou, até mesmo, como realizar uma DSR. Vários são os processos metodológicos adotados pela literatura, sendo o proposto por Peffers et al. (2007) o mais utilizado. 
Este processo é composto por seis atividades fundamentais, executadas, preferencialmente, de maneira sequencial com dois pontos de aprimoramento dos resultados obtidos que sistematizam o processo do fazer científico e incluem as seguintes atividades: (i) identificar o problema, (ii) definir o objetivo, (iii) projetar e desenvolver o artefato, (iv) demonstrar a aplicabilidade, (v) avaliar o artefato, e (vi) comunicar os resultados.
De fato, os produtos das atividades (i) e (ii) já são matéria da proposição deste projeto. O problema já foi identificado e enunciado na justificativa da proposta (Problema: a comunidade acadêmica sofre com o efeito da meteorologia local do campus Samambaia em virtude da distância do centro da cidade, disparidade de condições meteorológicas e a falta de um serviço que possa prover tais condições em tempo real e nos próximos minutos para que possam se planejar melhor quanto a vestimentas e outras proteções) e o Objetivo de Pesquisa já está pré-definido : desenvolver um modelo tecnológico e implementação de monitoramento e entrega em tempo real de condições meteorológicas do campus em tempo real com base em tecnologias IoT. Ainda assim, para garantir que o bolsista adquira sólida formação científica, uma etapa de revisão de literatura também foi prevista no processo. Logo, a atuação do bolsista deu-se nas etapas seguintes do processo, como segue: Atividade 0 (Estudo de Programação para plataforma web e Arduíno): esta atividade proporcionou o tempo necessário para aprender as tecnologias e se ambientar com a programação para as plataformas necessárias.atividade 1 (revisão da literatura): Esta etapa consistiu no processo de investigação científica para estabelecer o embasamento teórico da pesquisa. Tal etapa incluiu a leitura de artigos científicos de conferências e periódicos especializados e renomados nas áreas de IoT, Engenharia de Software e aplicativos inteligentes para justificar adequadamente o gap de pesquisa identificado;atividade 2 (Projetar e desenvolver o artefato): o artefato a ser desenvolvido foi uma página web em php conectada ao banco de dados que entrega, em tempo real, condições do tempo no campus coletadas via sensores IoT espalhados em locais estratégicos. Artefatos também produzidos como consequência foram o (i) a especificação de requisitos de sistemas e software do componente; (ii) os modelos arquiteturais da aplicação, (iii) o código do aplicativo para plataforma Android (sob a prerrogativa de que a maioria dos alunos possuem celulares com Android devido ao alto custo de aquisição dos celulares com iOS da Apple); e (iv) o código de controle dos sensores IoT. atividade 3 (Demonstrar a aplicabilidade): nesta etapa, o componente de software passou por uma etapa de análise e demonstração da aplicabilidade, testando a coleta das condições meteorológicas do campus;atividade 4 (Avaliação do artefato): nesta etapa, foi aplicada a metodologia de pesquisa “Estudo de Caso” para demonstrar via instância executável do artefato implantado no domínio de aplicação que ele atinge seu objetivo preestabelecido. Variáveis de análise qualitativa e/ou quantitativas foram definidas bem como o protocolo de estudo será elaborado.atividade 5 (Comunicar os resultados): os resultados do estudo estão sendo submetidos para apreciação no CONPEEX 2020, bem como para conferências e periódicos especializados. Serão confeccionados artigos científicos e relatórios técnicos correspondentes.
A partir dos resultados obtidos nas atividades de avaliação e comunicação dos resultados (Atividades 4 e 5, respectivamente), tanto o objetivo quanto o artefato desenvolvido puderam ser refinados e aprimorados em novas pesquisas e estudos. Dessa forma, espera-se garantir um progresso contínuo dos resultados alcançados. 
</p>

<h2>4.Desenvolvimento do projeto</h2>
<p>Primeiro passo para o início do projeto foi determinar qual hardware seria utilizado. Deveria-se ter algo funcional a um baixo custo. Por isso, optou-se pela placa Wemos D1 que dispensava shields para ter a capacidade de se conectar a internet. Dentre os sensores escolheu-se os mínimos indispensáveis que forneceriam informações relevantes sobre o tempo naquele momento, além do mais por se tratar de uma placa com diversos pinos para conexão de outros sensores. Essa modularidade tornou fácil implementar novos recursos ao projeto para futuros upgrades que tragam novas medições e caso seja interessante atuadores para a partir de certa leitura acionar um ar condicionado por exemplo.
	Uma vez definida a placa a ser utilizada, foi necessário estudar  como esses dados seriam tratados, armazenados e distribuídos. A primeira abordagem foi a utilização do Broker que é um padrão publish/subscriber e serve como intermediário no processo de comunicação entre os sensores que utilizam do protocolo Mqtt(Message Queuing Telemetry Transport). 
	Todavia o projeto versão Broker Mqtt foi desenvolvido a critério de testes, foi utilizado o site https://www.cloudmqtt.com/ para hospedar os dados enviados da placa e para a visualização foi utilizado um dos vários aplicativos já disponíveis nas lojas de aplicativos mobile que buscam esses dados na nuvem e deixam disponíveis para o usuário final na tela do app, neste caso o aplicativo utilizado foi o MQTT Dash (IoT, Smart Home), na figura a seguir a imagem do projeto utilizando essa tecnologia.
	A critério de estudo e testes, foi importante trabalhar com o Broker pois apresentou o mais próximo possível do resultado final desejado em pouco tempo, tendo já aplicativos prontos na play store que possibilitam o acesso dos dados dos sensores em tempo real. Entretanto devido aos objetivos específicos definidos no projeto, a utilização de um banco de dados foi inevitável para integração em outras plataformas dos dados coletados e para o armazenamento para estudos futuros das condições climáticas no campus.
	Visto as limitações da abordagem anterior, foi desenvolvida uma aplicação que utiliza o banco de dados MySql por ser um sistema gerenciador de banco de dados completo de fácil utilização e livre. 
Para a visualização das aferições em tempo real foi desenvolvida uma aplicação web em PHP que busca o último registro na tabela para retornar isso em uma página web que ficará disponível o acesso ao usuário final.
	Tanto a abordagem em Broker quanto a abordagem utilizando o banco de dados apresentaram uma solução viável para a exibição dos dados em tempo real. Por isso houve uma tentativa de manter as duas tecnologias e criar um projeto híbrido. Entretanto, durante o desenvolvimento do projeto, foram pontuadas algumas limitações quanto a capacidade de processando de hardware sendo necessário modificar a forma de armazenamento e projeto da aplicação que antes previa a utilização de um Broker e um banco de dados funcionando paralelamente, entretanto deve-se optar por uma ou outra opção devido a limitações da placa Wemos D1, desta forma então optamos por trabalhar com o banco de dados.
	O projeto “como está o tempo no campus?” é composto por uma placa Wemos D1 que possui sensores de chuva, umidade e temperatura acoplados para medição dessas variáveis climáticas no ambiente. Esta placa está conectada a rede Wifi e a um servidor que possui um banco de dados para o armazenamento das leituras, guardando as datas e horários das medições e os respectivos valores lidos.
	A Tabela 1 apresenta os principais componentes da estação meteorológica, com a indicação do valor aproximado de cada um. Uma estação meteorológica profissional possui um valor em torno de U$ 1.000,00 (mil dólares), enquanto que essa saiu por um valor total de aproximadamente R$ 74,70 (setenta e quatro reais e setenta centavos).
	Para a instalação do hardware no ambiente de medição, foi necessário estudar um modo de colocar os componentes de uma maneira que as medições não sofressem variações significativas, sendo que com exceção do sensor de chuva, todos os demais componentes deveriam estar separados das variações meteorológicas pois a chuva poderia danificar e comprometer o seu funcionamento. Desta forma, o sensor de chuva foi colocado em cima do telhado e demais componentes abaixo do telhado sem nenhum outro case de proteção para evitar que as medições de temperatura e umidade sofressem variações em relação ao ambiente externo. Na Figura 3 é possível apreciar como o circuito foi montado.
	Os leds foram adicionados para dar feedback em relação ao funcionamento da placa em que a luz amarela acesa indica que a placa está conectada a rede wifi, a luz verde indica que a placa está conectada ao banco de dados e o led vermelho pisca toda vez que um novo registro é enviado para o banco de dados.
Para a programação do algoritmo embarcado na placa foi necessária a utilização de diversas bibliotecas para a leitura dos sensores, a conexão na rede wifi e a conexão com o banco de dados MySql. 
	Para a criação do servidor que armazenaria o banco de dados, utilizou-se o software gratuito Wamp Server que efetua a instalação automática de um conjunto de softwares no computador, facilitando a configuração de um software interpretador de scripts local e um banco de dados no sistema Windows. Dentro do Wamp existe o phpMyAdmin que aloca um banco de dados Mysql e foi lá onde criei a tabela que armazenará os dados como mostra a figura 4. 
	Na tabela do banco de dados tem-se a Data do registro, a medição da temperatura, a medição da umidade, o estado do tempo naquele momento e a leitura do sensor de chuva que é o parâmetro de decisão que definirá se o tempo se encontra chuvoso ou não. Esses dados são enviados para o servidor através de um comando SQL executado pela própria placa.
	Uma vez que as informações já estão disponíveis no banco de dados, a página web pode então buscar o último registro através de um comando SQL de select para então atualizar os dados que serão mostrados para o usuário final. Neste caso, a página web ficou alocada no localhost e estava disponível para ser acessada a todos que estivessem conectados na mesma rede e através do navegador acessassem o ip da máquina servidora. Importante destacar que, a fim de evitar problemas de conexão da placa com o servidor é recomendável que se configure um ip fixo para a máquina que será escolhida como servidor.
	As leituras a fim de reduzir o volume de dados em um dia são feitas a cada 50 segundos tendo um delay nos testes realizados de no máximo 2 segundos até a nova tupla ser inserida no banco de dados. Desta forma configurei a programação da página web para que atualize os dados apresentados na página a cada 53 segundos. 
	Os dados antigos são armazenados enquanto que o registro mais recente é mostrada na página web que fica disponível para acesso e visualização de todos os interessados como demonstra a figura 5. 
</p>

<h2>4.1 Descrição da solução</h2>
<p>Este trabalho está baseado em uma tecnologia de IoT que utiliza uma placa baseada na plataforma Arduino que aplica o conceito System On Chip em sua confecção. Um servidor de banco de dados Mysql foi utilizado para o armazenamento de dados que tende a gerar um Big Data e uma página web para disponibilizar a visualização da última leitura dos dados, tudo isso para a criação de uma mini estação meteorológica que entrega informação sobre os dados em tempo real, as subseções seguintes apresentam conceitos relacionados a estações meteorológicas, IOT, Big Data, plataforma Arduino e System on Chip (SoC).
Como o objetivo do projeto é informar o tempo real no campus samambaia no momento do acesso. Entretanto, vale ressaltar que a solução entregue pode ser utilizada em qualquer ambiente. Sem que se façam previsões futuras, foram utilizados instrumentos de medições simples que são: sensor de temperatura, sensor de umidade e sensor de chuva.
</p>

<h2>4.2 Descrição técnica da solução</h2>
<p>Dentre as principais características da placa fornecidas em seu datasheet tem-se além do processador que pode operar em clock de 80MHz/160MHz,  uma arquitetura RISC de 32 bits, 4Mb de memória flash, 64Kb para instruções, 96Kb para dados, um wifi nativo de 802.11b/g/n, possui um conector micro USB para alimentação e transferência de dados, possui um pino jack para alimentação em tensão contínua que varie entre 9V e 24V, possui 11 pinos digitais que possuem tensão de 0V ou 5V, possui um pino analógico de 10 bits, nível de sinal pinos de I/O de 3.3V, compatível com NodeMCU, programável via USB ou Wifi(Over the Air).A Figura 1 representa uma placa Wemos D1 Wifi ESP8266 . 
</p>

<h2>5.Avaliação</h2>
<p>Devido à pandemia e todas as restrições que ela trouxe, os testes e a implementação do projeto tiveram de ser feitas em local distinto do planejamento inicial, sendo assim todas as medições obtidas são da cidade de Porto Seguro na Bahia e o banco de dados e a página web foram alocados em um servidor local (localhost).
A mini estação meteorológica ficou implantada durante uma semana (168 horas) coletando cerca de 10.000 registros, a uma frequência de mais ou menos um registro por minuto. Em cada registro constava a data e hora em que o registro foi cadastrado no banco, a leitura do sensor de chuva, a leitura da temperatura, a leitura da umidade relativa do ar e a constatação do algoritmo se o tempo se encontrava “chuvoso” ou “sem chuva”.
Durante essa semana de testes o sensor de chuva não se demonstrou tão eficiente quanto esperado e foi necessário realizar vários ajustes no seu posicionamento para evitar conclusões equivocadas no tempo, o principal problema encontrado são as gotículas de água que ficam em sua superfície mesmo quando não está mais chovendo, por isso é necessário que o sensor fique inclinado a um ângulo de 45 graus para baixo, para que essas gotas escorram.
Após esses ajustes no posicionamento e no parâmetro do algoritmo para constatar a existência ou não de chuva através da leitura dos valores colhidos no sensor de chuva, o funcionamento da estação se deu de maneira muito satisfatória com margens de erro muito pequenas em relação a informações de sites meteorológicos como o climatempo. Pode-se constatar cerca de 3 pontos de margem de erro para mais ou para menos na leitura do percentual de umidade entre sites que trazem informações meteorológicas e a mini estação de baixo custo desenvolvida. Em relação a temperatura a variação se deu em cerca de menos de 1 grau celsius. Entretanto vale ressaltar que tanto o sensor de temperatura quanto o de umidade ficaram alojados em um local reparado o que pode ter tido influência na pequena variação apresentada.
A Figura 6 mostra uma parte do retorno da execução do comando ‘SELECT’ no banco de dados para retornar todos os dados recolhidos durante o período em que a estação ficou em funcionamento. 
</p>

<h2>6. Discussão</h2>
<p>Visto o seu baixo custo e assertividade satisfatória nos dados colhidos pelos sensores. Além disso pode-se estender as funcionalidades do projeto sendo possível adaptá lo para o controle de um sistema de irrigação, um sistema de ventilação, um sistema de aquecimento, um sistema de resfriamento, enfim qualquer acionamento de dispositivo que seja feito baseado na temperatura, umidade do ar ou verificando se existe ou não a presença de chuva no ambiente.
	Apesar de ser uma placa com muitos benefícios em relação a conectividade, processamento e armazenamento do algoritmo, a Wemos D1 possui uma restrição significativa que acaba limitando a sua utilidade em alguns projetos, esta placa possui apenas um pino analógico e a maioria dos sensores utilizam de pinos analógicos para o seu funcionamento ideal. No caso deste projeto específico a ideia era incluir um sensor de luminosidade conhecido como LDR no seu desenvolvimento, mas devido às limitações da placa teve que se optar pelo sensor de chuva ao invés do LDR.
	Todavia a eletrônica está sempre promovendo novas soluções para problemas e limitações que possam surgir, sendo assim existem módulos multiplexadores e módulos expansores capazes de aumentar a quantidade de pinos analógicos em uma placa microcontroladora. Acaba tornando o projeto um pouco mais caro, mas traz a possibilidade de adicionar maiores funcionalidades.
</p>

<h2>7. Considerações finais</h2>
<p>Considerando que segundo o INMET 2015, existem apenas 400 estações meteorológicas no país espalhadas de maneira desproporcional no território brasileiro, o volume de dados referentes às variáveis climáticas colhidos no Brasil é muito baixo. Por isso, algumas áreas ficam subordinadas as informações da estação meteorológica mais próxima, o que nem sempre apresenta dados assertivos da área de seu interesse. Diante disso se vê a importância a popularização e a automatização dos equipamentos de coleta de dados. 
	O custo-benefício do projeto proposto torna viável sua instalação em pequenas propriedades rurais ou até mesmo em pequenas cidades, contribuindo, portanto, para a melhoria da qualidade das visualizações das condições climáticas em microambientes, que é de suma importância para diversas atividades. 
	Ademais, como trabalho futuro identificado de imediato, pretende-se também integrar esse serviço a aplicação “Minha UFG” para que todos os membros da comunidade acadêmica possam ser beneficiados. Um outro trabalho futuro é o incremento de novos sensores para que possam ser captadas mais informações sobre as variáveis climáticas de interesse, como um anemômetro, por exemplo. 
É importante também ressaltar que a aquisição de hardware com os sensores necessários foram feitos utilizando-se de recursos próprios. O projeto alinha-se ao tema de smart cities, uma vez que soluções de IoT para ambientes acadêmicos, conhecida como campus inteligentes, está em comum acordo com a perspectiva de cidades inteligentes, já que podemos considerar o campus inteligente como um subsistema do macrossistema Cidade Inteligente.
</p> 

<h2>Referências Bibliográficas</h2>
<p>[1] AHRENS, C. Donald. Meteorology today: an introduction to weather, climate, and the environment. Cengage Learning, 2012. 

[2] ATZORI, Luigi; IERA, Antonio; MORABITO, Giacomo. The internet of things: A survey. Computer networks, v. 54, n. 15, p. 2787-2805, 2010. 

[3] SAGIROGLU, Seref; SINANC, Duygu. Big data: A review. In: 2013 international conference on CTS. IEEE, 2013. p. 42-47. 

[4] P. Tiainen, ‘‘New opportunities in electrical engineering as a result of the emergence of the Internet of Things,’’ Tech. Rep., AaltoDoc, Aalto Univ.,2016.

[5] Arduino.cc. Arduino 2010 . Disponível em: <https://www.arduino.cc/en/Guide/Introduction >. Acesso em: 19 agosto 2020.>

[6] RISSET T. (2011) SoC (System on Chip). In: Padua D. (eds) Encyclopedia of Parallel Computing. Springer, Boston, MA. https://doi.org/10.1007/978-0-387-09766-4_5

[7] TORRES, João Delfino et al. Aquisição de dados meteorológicos através da plataforma Arduino: construção de baixo custo e análise de dados. Scientia Plena, v. 11, n. 2, 2015. 

[8] SOUSA, Romário Rosa et al. Estação meteorológica experimental de baixo custo. Geo UERJ, n. 27, p. 80-97, 2015. 

[9] DE ARAUJO ELIAS, Alexandre Artimos et al. ArdWeather: Uma estação meteorológica baseada no Arduino e em Web Services RESTful. In: PSHEWC 2014. p. 44-48. 

[10] DA SILVA, Angelo Cesar Mendes et al. Estação Meteorológica Automática de Baixo Custo-Low Cost Automatic Meteorological Station. Multiverso: Revista Eletrônica do Campus Juiz de Fora-IF Sudeste MG, v. 1, n. 1, p. 46-56, 2016. 

[11] KODALI, Ravi Kishore et al. An IoT based weather information prototype using WeMos. In: 2016 2nd IC3I. IEEE, 2016. p. 612-616. 
[12] PEFFERS, K. et al. (2007). “A Design Science Research Methodology for Information Systems Research”. Journal of Management Information System 24, 3, pp. 45-77.
[13] WOHLIN, C. et al.(2003). “Empirical research methods in software engineering”. In: Conradi R., Wang A.I. (eds) Empirical Methods and Studies in Software Engineering. Lecture Notes in Computer Science, vol 2765. Springer, Berlin, Heidelberg. 
</p>
